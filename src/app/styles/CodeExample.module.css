/* styles/CodeExample.module.css */

.codeContainer {
  position: relative;
  margin: var(--spacing-xl) auto; /* Adjust margin as needed */
  width: 100%;
  max-width: 800px; /* Max width for readability */
  background-color: var(
    --color-background-container
  ); /* Use design system background */
  border-radius: var(--border-radius-lg);
  box-shadow: 0 var(--spacing-sm) var(--spacing-lg) var(--color-shadow-light);
  overflow: hidden; /* Ensures border-radius applies correctly to inner elements */
  transition: background-color var(--transition-duration-normal)
      var(--transition-ease),
    box-shadow var(--transition-duration-normal) var(--transition-ease),
    border-color var(--transition-duration-normal) var(--transition-ease);
  margin-top: -5px; /* Adjust to overlap with copy button */
}

.copyButton {
  position: absolute;
  top: var(--spacing-md); /* Position above the code block */
  right: var(--spacing-md);
  background-color: var(--color-primary-accent);
  color: var(--color-text-inverse);
  border: none;
  padding: var(--spacing-xs) var(--spacing-sm);
  border-radius: var(--border-radius-sm);
  cursor: pointer;
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  transition: background-color var(--transition-duration-normal)
    var(--transition-ease);
  z-index: 10; /* Ensure it's above the code highlighter */
}

.codeContainer:has(.codeTitle) .copyButton {
  top: calc(
    var(--spacing-md) + var(--spacing-xxl)
  ); /* Adjust if title is present */
}

.copyButton:hover {
  background-color: color-mix(in srgb, var(--color-primary-accent), black 15%);
}

.copyButton:active {
  transform: translateY(1px);
}

/* Styles for the SyntaxHighlighter component itself */
/* The className below will be applied to the pre tag generated by react-syntax-highlighter */
.syntaxHighlighter {
  text-align: left; /* Ensure code aligns to the left */
  font-family: var(
    --font-family-mono
  ) !important; /* Use your monospaced font from design system */
  padding-top: var(
    --spacing-xxl
  ) !important; /* Make space for the copy button if no title */
  padding-bottom: var(--spacing-md) !important;
}

/* Adjust padding if title is present */
.codeContainer:has(.codeTitle) .syntaxHighlighter {
  padding-top: var(
    --spacing-md
  ) !important; /* Less padding if title is present */
}

/* Ensure consistent line height and font size within code */
.syntaxHighlighter pre {
  line-height: 1.5 !important;
}
.syntaxHighlighter code {
  font-size: var(--font-size-base) !important;
}
